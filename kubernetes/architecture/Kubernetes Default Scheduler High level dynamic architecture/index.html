
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.8" name="generator"/>
<title>Kubernetes Default Scheduler High level dynamic architecture - obsidian-mkdocs template</title>
<link href="../../../assets/stylesheets/main.20d9efc8.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.815d1a91.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="pink" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#kubernetes-default-scheduler-high-level-dynamic-architecture">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="obsidian-mkdocs template" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="obsidian-mkdocs template">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            obsidian-mkdocs template
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Kubernetes Default Scheduler High level dynamic architecture
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="pink" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="pink" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="obsidian-mkdocs template" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="obsidian-mkdocs template">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    obsidian-mkdocs template
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Obsidian Notes
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Features
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Features" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Features
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Features/LaTeX%20Math%20Support/">
        LaTeX Math Support
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Features/Mermaid%20Diagrams/">
        Mermaid diagrams
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Features/Text%20Formatting/">
        Text Formatting
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Git
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Git" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Git
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Git/Switching%20Development%20Contexts%20with%20Git/">
        Switching Development Contexts with Git
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Topic 1
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Topic 1" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Topic 1
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Topic%201/Note%201/">
        Note 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Topic%201/Note%202/">
        Note 2
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Kubernetes" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1">
          Architecture
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Architecture" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Arquitectura%20de%20Kubernetes/">
        Arquitectura de Kubernetes
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Kubernetes Default Scheduler High level dynamic architecture
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Kubernetes Default Scheduler High level dynamic architecture
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#intro">
    intro
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#entendiendo-el-algoritmo-por-defecto-del-scheduler">
    Entendiendo el Algoritmo por defecto del Scheduler.
  </a>
<nav aria-label="Entendiendo el Algoritmo por defecto del Scheduler." class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fase-1-encontrando-los-nodos-aceptables">
    Fase 1: Encontrando los nodos aceptables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fase-2-elegir-el-mejor-de-los-aceptables">
    Fase 2: Elegir el mejor de los aceptables.
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#usando-multiples-schedulers">
    Usando multiples Schedulers.
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#intro">
    intro
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#entendiendo-el-algoritmo-por-defecto-del-scheduler">
    Entendiendo el Algoritmo por defecto del Scheduler.
  </a>
<nav aria-label="Entendiendo el Algoritmo por defecto del Scheduler." class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fase-1-encontrando-los-nodos-aceptables">
    Fase 1: Encontrando los nodos aceptables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fase-2-elegir-el-mejor-de-los-aceptables">
    Fase 2: Elegir el mejor de los aceptables.
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#usando-multiples-schedulers">
    Usando multiples Schedulers.
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="kubernetes-default-scheduler-high-level-dynamic-architecture">Kubernetes Default Scheduler High level dynamic architecture<a class="headerlink" href="#kubernetes-default-scheduler-high-level-dynamic-architecture" title="Permanent link">¶</a></h1>
<h2 id="intro">intro<a class="headerlink" href="#intro" title="Permanent link">¶</a></h2>
<p>Normalmente no especificamos en qué nodo queremos que se ejecute un Pod.
Esto es la tarea del Scheduler.</p>
<p>Basicamente la tarea del Scheduler es 
- recibir las notificaciones de la creacion de nuevos Pods mediante el mecanismo de observer del API server
- Modifica el manifiesto para asignarle un worker node donde ejecutarse
- Y Vuelve a escribir el manifiesto en el ETCD a traves del API Server.</p>
<p>El Scheduler <strong>no habla para nada con el Kubelet del nodo</strong> </p>
<ul>
<li>El Kubelet es avisado de nuevo por el mecanismo de notificaciones del API Server de que se ha cambiado un recurso ( el Pod en este caso)</li>
<li>EL Kubelet lee el nuevo recurso y ve que está asignado a su nodo y por tanto crea el nuevo pod y ejecuta sus containers ( hablando con el runtime que sea Docker o el que haya )</li>
</ul>
<p>La parte complicada del Scheduler es la parte del algoritmo de decision sobre a que nodo asignar cada nuevo Pod.
El algoritmo podría ser tan tonto como hacerlo aleatoriamente o tan listo como utilizar Machine Learning para anticipar los nodos que se pueden crear ... etc etc </p>
<p>El algoritmo por defecto esta en medio de estos dos.</p>
<h2 id="entendiendo-el-algoritmo-por-defecto-del-scheduler">Entendiendo el Algoritmo por defecto del Scheduler.<a class="headerlink" href="#entendiendo-el-algoritmo-por-defecto-del-scheduler" title="Permanent link">¶</a></h2>
<p>Se pueden identificar dos partes principales:
- Filtrar todos los nodos que son ACEPTABLES para poder tener el Pod
- Puntuar cada uno de esos nodos segun su prioridad y elegir aquel que tenga una mejor puntuacion para asignarle el pod
  - Si varios tienen la misma puntuacion intenta elegir mediante un Round-Robin para poder balancear la asignacion de nodos.</p>
<h3 id="fase-1-encontrando-los-nodos-aceptables">Fase 1: Encontrando los nodos aceptables<a class="headerlink" href="#fase-1-encontrando-los-nodos-aceptables" title="Permanent link">¶</a></h3>
<p>Para encontrar los nodos aceptables el Scheduler aplica a cada nodo una lista de <strong>predicados</strong> que miran distintas cosas como
- Puede el nodo cumplir los <code>request</code> del pod?
- Esta el nodo bajo de recursos? (reporting memory/disk presure condition)
- A pedido el Pod ser asignado a un nodo determinado ( por nombre)
- Tiene el nodo una <code>label</code> que corresponda con el <code>node selector</code>   del Pod?
- Si el Pod pide ser enlazado con un puerto determinado ... está ya ese puerto en uso en el nodo?
- Si el Pod pide cargar un determinado volumen ...
  - Se puede cargar dicho volumen desde el nodo?
  - Hay algun nodo que ya este usando dicho volumen?
- Tolera el Pod los <code>taints</code> del nodo? (<code>taints</code> and <code>tolerations</code>)
- Especifica el Pod alguna afinidad o antiafinidad por algun nodo o por algun otro pod?
  - Basicamente podemos querer que determinados pods no esten en el mismo nodo
  - o Que determinados pods vayan juntos siempre que sea posible ...</p>
<p>TODAS estos predicados deben de pasar para que el nodo pase a la lista de aceptables.</p>
<p>Una vez pasados todos los nodos por todos los predicados el Scheduler tiene una lista de nodos aceptables.
Cualquiera de estos nodos puede ejecutar el pod porque tiene suficientes recursos y cumple los requisitos del pod.</p>
<h3 id="fase-2-elegir-el-mejor-de-los-aceptables">Fase 2: Elegir el mejor de los aceptables.<a class="headerlink" href="#fase-2-elegir-el-mejor-de-los-aceptables" title="Permanent link">¶</a></h3>
<p>Elegir de entre los aceptables no es sencillo porque basicamente no hay un criterio que sea valido para todas las ocasiones.</p>
<pre><code class="language-ad-example">Imagina que tienes un cluster con dos nodos.
Ambos nodos son aceptables para ejecutar un pod.
Uno de ellos esta ejecutando 10 pods mientras que el otro no tiene ninguno.

Parece sencillo, el segundo nodo es la elección clara porque tiene menos carga, verdad?

O puede que **NO**. Si estas ejecutando en un entorno cloud puede que quieras ejecutar el nuevo pod en el nodo uno ( que tiene los otros 10) de manera que puedas liberar el nodo que no usas y ahorrar pasta.


Como vemos no hay una sola manera de hacer las cosas.
</code></pre>
<p>Por defecto los pods que pertenecen al mismo [[Kubernetes Service|Service]] o [[Kubernetes ReplicaSet|ReplicaSet]] se intentan mandar a distintos nodos, aunque esto no está garantizado.</p>
<p>Se pueden definiri reglas de affinity o anti-affinity para configurar todo esto.</p>
<h2 id="usando-multiples-schedulers">Usando multiples Schedulers.<a class="headerlink" href="#usando-multiples-schedulers" title="Permanent link">¶</a></h2>
<p>Se pueden lanzar multiples Schedulers en el cluster.
Luego se elige que Scheduler maneja cada pod con la propiedad del pod: <code>spec.schedulerName</code></p>
<p>Los que no tengan nada o tengan <code>default-scheduler</code> como valor, serán tratados por el Scheduler por defecto.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Arquitectura de Kubernetes" class="md-footer__link md-footer__link--prev" href="../Arquitectura%20de%20Kubernetes/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Arquitectura de Kubernetes
            </div>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
<script src="../../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>